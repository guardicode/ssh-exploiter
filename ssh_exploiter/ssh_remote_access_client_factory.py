from pathlib import PurePath
from typing import Any, Callable

from common import OperatingSystem
from infection_monkey.exploit.tools import IRemoteAccessClientFactory
from infection_monkey.i_puppet import TargetHost

# from .ssh_client import SSHClient
from .ssh_options import SSHOptions

# from .ssh_remote_access_client import SSHRemoteAccessClient


class SSHRemoteAccessClientFactory(IRemoteAccessClientFactory):
    def __init__(
        self,
        host: TargetHost,
        options: SSHOptions,
        command_builder: Callable[[OperatingSystem, PurePath], str],
    ):
        self._host = host
        self._options = options
        self._command_builder = command_builder

    # TODO: Return RemoteAccessClient and add typehint for SSHRemoteAccess client
    def create(self, **kwargs: Any):
        pass
